#include <iostream>
#include <fstream>
using namespace std;

double Lagrange(double*X, double*Y, int n, double xi) {
    double result = 0;
    for (int i = 1; i <= n; i++) {
        double temp = Y[i];
        for (int j = 1; j <= n; j++) {
            if (j != i) temp *= (xi - X[j]) / (X[i] - X[j]);
        }
        result += temp;
    }
    return result;
}

int main() {
    int n, i;
    double* X, *Y;
    ifstream fin("input1.txt");
    fin >> n; //читаем кол-во точек
    X = new double[n];
    Y = new double[n];
    for (i = 1; i <= n; i++)
    {
        fin >> X[i];
        fin >> Y[i];
    }
    fin.close();
    //Вывод значений от x1 до x2 с шагом dx:
    double x1 = X[1], x2 = X[n], dx = 0.5;

    cout.width(20); cout << "X"; cout.width(20); cout << "Y" << endl;
    for (double x = x1; x <= x2; x += dx) {
        double y = Lagrange(X, Y, n, x);
        cout.width(20); cout.precision(10); cout << x;
        cout.width(20); cout.precision(10); cout << y << endl;
    }
    ofstream fout("output1.txt");
    for (double x = x1; x <= x2; x += dx)
    {
        double y = Lagrange(X, Y, n, x);
        fout << x << " " << y << endl;
    }
    fout.close();
    cin.get();
}
